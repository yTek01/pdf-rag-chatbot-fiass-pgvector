# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/introduction/learn-gitpod/gitpod-yaml)
# and commit this file to your remote git repository to share the goodness with others.

# Learn more from ready-to-use templates: https://www.gitpod.io/docs/introduction/getting-started/quickstart


tasks:

  - init: |

      pip install -r requirements.txt
      sudo apt-get update
      sudo apt-get install poppler-utils
      sudo apt-get update && sudo apt-get install -y tesseract-ocr
      sudo apt-get update && sudo apt-get install -y libgl1
      docker run --name pgvector-container -e POSTGRES_USER=langchain -e POSTGRES_PASSWORD=langchain -e POSTGRES_DB=langchain -p 6024:5432 -d pgvector/pgvector:pg16
      curl -fsSL https://packages.redis.io/gpg | sudo gpg --dearmor -o /usr/share/keyrings/redis-archive-keyring.gpg
      echo "deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb $(lsb_release -cs) main" | sudo tee /etc/apt/sources.list.d/redis.list
      sudo apt-get update  > /dev/null 2>&1
      sudo apt-get install redis-stack-server  > /dev/null 2>&1
      redis-stack-server --daemonize yes
      sudo apt update && sudo apt install -y postgresql postgresql-client
      
    # sudo apt install postgresql-client -y
